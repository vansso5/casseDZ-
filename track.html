<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#f97316">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุชุชุจุน ุงูุทูุจ | La Casse Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style> 
        body { font-family: 'Tajawal', sans-serif; background-color: #111827; } 
        
        .glass { background: rgba(17, 24, 39, 0.7); backdrop-filter: blur(12px); border-bottom: 1px solid rgba(255, 255, 255, 0.05); }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }

        /* ุชูุณูู ุงูููุฏุงู */
        .help-modal { 
            opacity: 0; 
            visibility: hidden; 
            transition: all 0.3s ease; 
        }
        .help-modal.active { 
            opacity: 1; 
            visibility: visible; 
        }
        .help-content { 
            transform: scale(0.95); 
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
        }
        .help-modal.active .help-content { 
            transform: scale(1); 
        }

        /* ุชูุณูู ุงููุฌูู */
        .star-icon { cursor: pointer; transition: color 0.2s, transform 0.1s; }
        .star-icon:hover { transform: scale(1.1); }
        .star-icon.active { color: #f97316; fill: #f97316; }
    </style>
</head>
<body class="text-white min-h-screen flex flex-col items-center relative">

    <!-- 1. ุงูููุฏุฑ -->
    <header class="glass fixed top-0 w-full z-50">
        <div class="max-w-lg mx-auto px-4 py-3 flex justify-between items-center">
            <a href="index.html" class="flex items-center gap-2 group">
                <div class="bg-gray-800 p-2 rounded-xl group-hover:bg-gray-700 transition border border-gray-700">
                    <svg class="w-5 h-5 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 12H5m7 7l-7-7 7-7"></path></svg>
                </div>
            </a>
            <h1 class="text-lg font-bold tracking-tight">ุชุชุจุน <span class="text-orange-500">ุงูุทูุจ</span></h1>
            <div class="w-10"></div>
        </div>
    </header>

    <!-- ูุญุชูู ุงูุตูุญุฉ ุงูุฑุฆูุณู -->
    <main class="w-full max-w-sm px-4 mt-24 flex-1 flex flex-col">

        <div class="text-center mb-8 animate-fade-in">
            <h1 class="text-3xl font-bold text-white">ุญุงูุฉ <span class="text-orange-500">ุงูุทูุจ</span></h1>
            <p class="text-gray-400 text-sm mt-2">ุฃุฏุฎู ุจูุงูุงุชู ููุดุงูุฏุฉ ุงูุนุฑูุถ</p>
        </div>
        
        <!-- 2. ูุณู ุชุณุฌูู ุงูุฏุฎูู ููุชุชุจุน -->
        <div id="loginSection" class="bg-gray-800 p-6 rounded-2xl w-full border border-gray-700 shadow-2xl relative mb-10 animate-fade-in group">
            
            <!-- ุฃููููุฉ ุงูุดุฑุญ -->
            <button onclick="toggleHelpModal()" class="absolute top-4 left-4 w-6 h-6 rounded-full border border-gray-600 text-gray-400 hover:text-orange-500 hover:border-orange-500 flex items-center justify-center transition-colors z-10" title="ููู ูุนูู ุงูุชุชุจุนุ">
                <span class="text-xs font-bold">?</span>
            </button>

            <div class="space-y-4 pt-2">
                <div>
                    <label class="text-xs text-gray-400 mb-1 block">ุฑูู ุงููุงุชู</label>
                    <input id="trackPhone" type="tel" placeholder="0XXXXXXXXX" class="w-full bg-gray-900 border border-gray-700 rounded-lg p-3 text-white focus:outline-none focus:border-orange-500 text-left font-mono placeholder-gray-600 transition" dir="ltr">
                </div>

                <div>
                    <label class="text-xs text-gray-400 mb-1 block">ุงูุฑูุฒ ุงูุณุฑู ุงูุฎุงุต ุจุงูุทูุจ</label>
                    <input id="trackCode" type="number" placeholder="****" class="w-full bg-gray-900 border border-gray-700 rounded-lg p-3 text-white focus:outline-none focus:border-orange-500 text-center font-mono tracking-[0.5em] placeholder-gray-600 transition" dir="ltr">
                </div>

                <button id="trackBtn" class="w-full bg-orange-600 hover:bg-orange-500 text-white font-bold py-3 rounded-xl shadow-lg mt-4 transition transform active:scale-95 flex items-center justify-center gap-2">
                    <span>ุฅุธูุงุฑ ุงูุนุฑูุถ</span>
                    <svg class="w-5 h-5 rtl:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5l7 7-7 7M5 12h14"></path></svg>
                </button>
            </div>
        </div>

        <!-- 3. ุดุงุดุฉ ููุญุฉ ุงูุชุญูู (Dashboard) -->
        <div id="dashboardSection" class="hidden space-y-6 w-full animate-fade-in pb-10">
            
            <!-- ูุงุฑุช ุงุณู ุงููุทุนุฉ -->
            <div class="bg-gray-800 p-6 rounded-2xl border border-gray-700 border-r-4 border-r-orange-500 shadow-lg">
                <span class="text-orange-500 text-[10px] font-bold uppercase tracking-wider block mb-1">ุทูุจ ูุดุท ุญุงููุงู</span>
                <h3 id="orderTitle" class="text-2xl font-bold text-white">---</h3>
            </div>

            <div class="flex justify-between items-center px-1">
                <h3 class="font-bold text-lg text-white">ุงูุนุฑูุถ ุงููุณุชููุฉ</h3>
                <span class="text-[10px] text-gray-400 flex items-center gap-1 bg-gray-800 px-3 py-1 rounded-full border border-gray-700">
                    <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                    ุชุญุฏูุซ ูุจุงุดุฑ
                </span>
            </div>

            <!-- ูุงุฆูุฉ ุงูุนุฑูุถ (ูุชู ููุคูุง ุจุงูููุฏ ุงูุจุฑูุฌู) -->
            <div id="offersList" class="space-y-4">
                <div class="bg-gray-800/50 rounded-2xl p-10 text-center border border-dashed border-gray-700">
                    <p class="text-lg font-bold mb-2 text-gray-300">ุฌุงุฑู ุงูุจุญุซ...</p>
                    <p class="text-sm text-gray-500">ุณูุชู ุนุฑุถ ุงูุนุฑูุถ ููุฑ ูุตูููุง ูู ุงูุชุฌุงุฑ</p>
                </div>
            </div>
        </div>

    </main>

    <!-- ูุงูุฐุฉ ุงูุดุฑุญ ุงูููุจุซูุฉ -->
    <div id="trackHelpModal" class="help-modal fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm" onclick="toggleHelpModal()">
        <div class="help-content bg-gray-800 w-full max-w-sm rounded-[2rem] border border-gray-700 shadow-2xl p-6 relative" onclick="event.stopPropagation()">
            <div class="w-14 h-14 bg-blue-500/10 text-blue-400 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-blue-500/20">
                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
            </div>
            <h3 class="text-xl font-bold text-center text-white mb-3">ููู ุฃุดุงูุฏ ุงูุนุฑูุถุ</h3>
            <div class="text-sm text-gray-300 leading-relaxed text-right space-y-3">
                <p>1. ุฃุฏุฎู <span class="text-orange-400 font-bold">ุฑูู ูุงุชูู</span> ู<span class="text-orange-400 font-bold">ุงูุฑูุฒ ุงูุณุฑู</span>.</p>
                <div class="bg-gray-900/50 p-3 rounded-xl border border-gray-700 text-xs text-gray-400">
                    ๐ก <span class="font-bold text-gray-300">ุชูููู:</span> ูู ุงูุจุฏุงูุฉ ุชุธูุฑ ูู "ุงูููุงูุฉ" ููุท. ูุฑุคูุฉ ุฑูู ุงููุงุชู ูุงุณู ุงููุญูุ ุงุถุบุท ุฒุฑ <span class="text-orange-500">"ูุดู ุงูุฑูู"</span>.
                </div>
            </div>
            <button onclick="toggleHelpModal()" class="mt-6 w-full bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 rounded-xl transition text-sm">ุญุณูุงูุ ูููุช</button>
        </div>
    </div>

    <!-- ============================================== -->
    <!-- ูุงูุฐุฉ ุงูุชูููู ูุงูุดูุงูู (New Review Modal) -->
    <!-- ============================================== -->
    <!-- ุฌุนููุง z-index 100 ูุชุธูุฑ ููู ูู ุดูุก -->
    <div id="reviewModal" class="help-modal fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md hidden" onclick="closeReviewModal()">
        <div class="help-content bg-gray-800 w-full max-w-sm rounded-[2rem] border border-gray-600 shadow-2xl p-6 relative" onclick="event.stopPropagation()">
            
            <button onclick="closeReviewModal()" class="absolute top-4 left-4 text-gray-400 hover:text-white transition">โ</button>

            <div class="text-center pt-2">
                <h3 class="text-xl font-bold text-white mb-1">ุชูููู ุงููุชุฌุฑ</h3>
                <p class="text-[10px] text-gray-500 mb-4">ุฑุฃูู ููููุง ูุชุญุณูู ุฌูุฏุฉ ุงูููุตุฉ</p>

                <!-- ูุนูููุงุช ุงูุชุงุฌุฑ -->
                <div class="bg-gray-900/80 rounded-xl p-4 mb-4 border border-gray-700">
                    <h4 id="reviewSellerName" class="text-orange-500 font-bold text-lg mb-1">---</h4>
                    <div class="flex items-center justify-center gap-2 text-gray-400 text-xs">
                        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path></svg>
                        <span id="reviewSellerWilaya">---</span>
                    </div>
                </div>

                <!-- ุงูุชูุจูู -->
                <div class="bg-orange-500/10 border border-orange-500/20 rounded-lg p-3 mb-6">
                    <p class="text-xs text-orange-200 leading-relaxed font-bold">
                        โ๏ธ ููุงุญุธุฉ ูุงูุฉ:<br>
                        <span class="font-normal text-orange-100/70">ูุฑุฌู ุงูุงุชุตุงู ุจุงูุชุงุฌุฑ ุฃููุงู ูุงูุชุฃูุฏ ูู ุงููุทุนุฉ ูุจู ูุถุน ุงูุชูููู.</span>
                    </p>
                </div>

                <!-- ุงููุฌูู -->
                <div class="flex justify-center gap-2 mb-6" id="starContainer">
                    <svg onclick="setRating(1)" class="star-icon w-8 h-8 text-gray-600" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                    <svg onclick="setRating(2)" class="star-icon w-8 h-8 text-gray-600" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                    <svg onclick="setRating(3)" class="star-icon w-8 h-8 text-gray-600" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                    <svg onclick="setRating(4)" class="star-icon w-8 h-8 text-gray-600" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                    <svg onclick="setRating(5)" class="star-icon w-8 h-8 text-gray-600" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                </div>
                
                <!-- ุฎุงูุฉ ุงูุดููู -->
                <textarea id="reviewText" rows="3" class="w-full bg-gray-900 border border-gray-600 rounded-xl p-3 text-sm text-white focus:outline-none focus:border-orange-500 mb-4" placeholder="ุงูุชุจ ุดููู ุฃู ููุงุญุธุฉ ูุชุญุณูู ุงูุฎุฏูุฉ..."></textarea>

                <button id="submitReviewBtn" class="w-full bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 text-white font-bold py-3 rounded-xl shadow-lg transition">
                    ุฅุฑุณุงู ุงูุชูููู
                </button>
            </div>
        </div>
    </div>

    <script>
        function toggleHelpModal() {
            const modal = document.getElementById('trackHelpModal');
            if(modal.classList.contains('active')) {
                modal.classList.remove('active');
            } else {
                modal.classList.add('active');
            }
        }

        // ุฏูุงู ูุงูุฐุฉ ุงูุชูููู (ุชู ุชุญุฏูุซูุง ููุชุนุงูู ูุน ููุงุณ hidden ุจุดูู ุตุญูุญ)
        let currentRating = 0;

        function openReviewModal(name, wilaya) {
            document.getElementById('reviewSellerName').innerText = name;
            document.getElementById('reviewSellerWilaya').innerText = wilaya;
            
            const modal = document.getElementById('reviewModal');
            modal.classList.remove('hidden'); // ุฅุฒุงูุฉ ุงูุฅุฎูุงุก ุฃููุงู
            // ุชุฃุฎูุฑ ุจุณูุท ููุณูุงุญ ูููุชุตูุญ ุจุฑุณู ุงูุนูุตุฑ ูุจู ุฅุถุงูุฉ ููุงุณ ุงูุญุฑูุฉ
            setTimeout(() => {
                modal.classList.add('active');
            }, 10);
            
            setRating(0); // ุชุตููุฑ ุงููุฌูู
        }

        function closeReviewModal() {
            const modal = document.getElementById('reviewModal');
            modal.classList.remove('active'); // ุฅุฎูุงุก ุงูุญุฑูุฉ
            // ุงูุงูุชุธุงุฑ ุญุชู ุชูุชูู ุงูุญุฑูุฉ ุซู ุงูุฅุฎูุงุก ุงููุนูู
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        function setRating(rating) {
            currentRating = rating;
            const stars = document.querySelectorAll('.star-icon');
            stars.forEach((star, index) => {
                if (index < rating) {
                    star.classList.add('text-orange-500');
                    star.classList.remove('text-gray-600');
                } else {
                    star.classList.remove('text-orange-500');
                    star.classList.add('text-gray-600');
                }
            });
        }
    </script>
    <script type="module" src="./logic.js"></script>
</body>
</html>